#ะะฐะฝั ๐ ะทะฐัะฒะพะบ ะฝะฐ ะฟัะพะฒะตะดะตะฝะธะต ะทะฐะฝััะธะน ะฒ ะฝะตะบะพัะพัะพะน ะฐัะดะธัะพัะธะธ. ะ ะบะฐะถะดะพะน ะทะฐัะฒะบะต
#ัะบะฐะทะฐะฝั ะฝะฐัะฐะปะพ ะธ ะบะพะฝะตั ะทะฐะฝััะธั (๐๐ ะธ ๐๐ ะดะปั ๐-ะน ะทะฐัะฒะบะธ). ะะฒะต ะทะฐัะฒะบะธ ัะพะฒะผะตััะธะผั,
#ะตัะปะธ ะฒัะพัะฐั ะฝะฐัะธะฝะฐะตััั ะฝะต ัะฐะฝััะต, ัะตะผ ะทะฐะบะฐะฝัะธะฒะฐะตััั ะฟะตัะฒะฐั. ะขัะตะฑัะตััั ะฒัะฑัะฐัั
#ะผะฐะบัะธะผะฐะปัะฝัะน ะฝะฐะฑะพั ัะพะฒะผะตััะธะผัั ะทะฐัะฒะพะบ

def is_good(a,b):
  return a[1] <= b[0] or b[1] <= a[0] #ะฟัะพะฒะตััะตะผ ัะพะฒะผะตััะธะผะพััั ะดะฒัั ะทะฐัะฒะพะบ

# ะทะดะตัั ะพะฟัะตะดะตะปัะตััั ะถะฐะดะฝะพััั
def next_item(heap,res):
  if len(heap) == 0: #ะตัะปะธ ัะปะตะผะตะฝัะพะฒ ะฝะต ะพััะฐะปะพัั, ะฒะพะทะฒัะฐัะฐะตะผ None
    return None
  
  for e in heap: #ะตัะปะธ ะพััะฐะปะธัั, ะธัะตะผ ะฟะพะดัะพะดััะธะน ัะปะตะผะตะฝั
    flag = True
    for e2 in res: #ะฟัะพะฒะตัััั ะฑัะดะตะผ ัะพ ะฒัะตะผะธ ัะปะตะผะตะฝัะฐะผะธ ะฒ res
      if not is_good(e,e2): #ะฟัะพะฒะตัะบะฐ
        # ะตัะปะธ ัะพัั ั ะพะดะฝะธะผ ะฟะตัะตัะตะบัั - ัะถะต ัะพัะฝะพ ะฝะต ะฟะพะดัะพะดะธั
        flag = False
        break 
    if flag: # ะตัะปะธ ะฝะต ั ะบะตะผ ะฝะต ะฟะตัะตัะตะบะฐะตััั - ะฟะพะดัะพะดะธั
      return e
  return None #ะฝะต ะฝะฐัะปะธ - None
 

def task(l, func):
  res = []
  heap = l.copy() # ะพััะฐะฒัะธะตัั ัะปะตะผะตะฝัั
  heap.sort(key=func)

  while True:
    
    e = next_item(heap,res)
    
    if e == None:
      break
    
    res.append(e)
    heap.remove(e)
  return res

print(task([(10,15),(1,8),(7,11)],lambda a: a[1]-a[0])) # ัะพััะธัะพะฒะบะฐ ะฟะพ ะดะปะธะฝะต ะทะฐะฝััะธั
print(task([(1,25),(1,8),(8,9)],lambda a: a[0])) # ัะพััะธัะพะฒะบะฐ ะฟะพ ะฝะฐัะฐะปั ะทะฐะฝััะธั
print(task([(10,15),(1,8),(7,11)],lambda a: a[1])) # ัะพััะธัะพะฒะบะฐ ะฟะพ ะบะพะฝัั ะทะฐะฝััะธั
